/* Text Message Style Notification - Base Style */
.productivity-battle-suggestion {
    /* Basic layout */
    width: fit-content !important;
    max-width: 80% !important;
    height: auto !important;
    box-sizing: border-box !important;
    
    /* Text message appearance */
    background-color: #e1ffc7 !important; /* WhatsApp-like green bubble */
    color: #000000 !important;
    border-radius: 20px !important;
    padding: 12px 16px !important;
    margin: 10px !important;
    
    /* Text styling */
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif !important;
    font-size: 14px !important;
    line-height: 1.4 !important;
    text-align: left !important;
    
    /* Drop shadow for 3D effect */
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15) !important;
    
    /* Position the bubble correctly */
    position: fixed !important; /* Fixed for your positioning logic */
    
    /* Ensure text breaks properly */
    word-break: break-word !important;
    
    /* Fix display */
    display: block !important;
    
    /* Add transition for smooth size changes */
    transition: all 0.3s ease !important;
  }
  
  /* Add position-specific text message tails */
  /* Center position - bottom right tail */
  .position-center.productivity-battle-suggestion::after {
    content: "" !important;
    position: absolute !important;
    bottom: -10px !important;
    right: 20px !important;
    width: 0 !important;
    height: 0 !important;
    border-right: 10px solid transparent !important;
    border-left: 10px solid transparent !important;
    border-top: 10px solid #e1ffc7 !important;
  }
  
  /* Top right position - bottom left tail */
  .position-top-right.productivity-battle-suggestion::after {
    content: "" !important;
    position: absolute !important;
    bottom: 15px !important;
    left: -10px !important; 
    width: 0 !important;
    height: 0 !important;
    border-right: 10px solid #e1ffc7 !important;
    border-top: 10px solid transparent !important;
    border-bottom: 10px solid transparent !important;
  }
  
  /* Top left position - bottom right tail */
  .position-top-left.productivity-battle-suggestion::after {
    content: "" !important;
    position: absolute !important;
    bottom: 15px !important;
    right: -10px !important;
    width: 0 !important;
    height: 0 !important;
    border-left: 10px solid #e1ffc7 !important;
    border-top: 10px solid transparent !important;
    border-bottom: 10px solid transparent !important;
  }
  
  /* Bottom right position - top left tail */
  .position-bottom-right.productivity-battle-suggestion::after {
    content: "" !important;
    position: absolute !important;
    top: 15px !important;
    left: -10px !important;
    width: 0 !important;
    height: 0 !important;
    border-right: 10px solid #e1ffc7 !important;
    border-top: 10px solid transparent !important;
    border-bottom: 10px solid transparent !important;
  }
  
  /* Bottom left position - top right tail */
  .position-bottom-left.productivity-battle-suggestion::after {
    content: "" !important;
    position: absolute !important;
    top: 15px !important;
    right: -10px !important;
    width: 0 !important;
    height: 0 !important;
    border-left: 10px solid #e1ffc7 !important;
    border-top: 10px solid transparent !important;
    border-bottom: 10px solid transparent !important;
  }
  
  /* Make the suggestion text look like message content */
  .suggestion-text {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow-wrap: break-word !important;
    text-align: left !important;
  }
  
  /* Style the site indicator to look like message metadata */
  .site-type-indicator {
    display: block !important;
    text-align: right !important;
    font-size: 11px !important;
    color: #7d7d7d !important;
    margin-top: 4px !important;
    font-style: italic !important;
  }
  
  /* Add a timestamp look */
  .site-type-indicator::after {
    content: "Just now" !important;
    font-size: 10px !important;
    color: #8c8c8c !important;
    display: block !important;
    text-align: right !important;
    margin-top: 2px !important;
  }
  
  /* Make the dismiss button look like message options */
  .productivity-battle-dismiss {
    position: absolute !important;
    top: 6px !important;
    right: 6px !important;
    background: none !important;
    border: none !important;
    color: #8c8c8c !important;
    font-size: 14px !important;
    opacity: 0.5 !important;
    cursor: pointer !important;
    padding: 0 !important;
    width: 20px !important;
    height: 20px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 10001 !important;
  }
  
  .productivity-battle-dismiss:hover {
    opacity: 1 !important;
  }
  
  /* Hide testing mode indicator in production */
  .testing-mode-indicator {
    display: block !important;
    position: absolute !important;
    top: -20px !important;
    right: 10px !important;
    background-color: #075e54 !important; /* WhatsApp dark green */
    color: white !important;
    font-size: 9px !important;
    padding: 2px 6px !important;
    border-radius: 10px !important;
  }
  
  /* Dramatically different size variations with special case for high productivity */
  .productivity-battle-suggestion.size-small {
    width: 200px !important;
    max-width: 200px !important;
    padding: 8px 12px !important;
    font-size: 12px !important;
    border-radius: 15px !important;
    background-color: #d6f5c0 !important; /* Slightly lighter green */
  }
  
  .productivity-battle-suggestion.size-medium {
    width: 300px !important;
    max-width: 300px !important;
    padding: 12px 16px !important;
    font-size: 14px !important;
    border-radius: 20px !important;
    background-color: #e1ffc7 !important; /* Standard green */
  }
  
  .productivity-battle-suggestion.size-large {
    width: 400px !important;
    max-width: 400px !important;
    padding: 16px 20px !important;
    font-size: 16px !important;
    border-radius: 25px !important;
    background-color: #c2ff8e !important; /* Brighter green */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important; /* Stronger shadow */
  }
  
  /* IMPORTANT - Special positioning for very high productivity (80+) - guaranteed center */
  div.productivity-battle-suggestion.very-high-productivity {
    /* Make it important and use very high specificity */
    width: 450px !important;
    max-width: 450px !important;
    min-width: 450px !important;
    padding: 20px 24px !important;
    font-size: 18px !important;
    border-radius: 28px !important;
    background-color: #9dff6a !important; /* Bright green */
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.25) !important;
    
    /* Force absolute center positioning and override everything */
    position: fixed !important;
    inset: 0 !important; /* Set all sides to 0 */
    margin: auto !important; /* Use margin auto with fixed size and inset 0 for perfect centering */
    height: fit-content !important;
    
    /* Explicitly unset any transforms from other classes */
    transform: none !important;
    
    /* Override any other styles that could affect positioning */
    float: none !important;
    clear: both !important;
    display: block !important;
    
    /* Highest z-index */
    z-index: 999999 !important;
  }
  
  /* Ensure position classes don't override very-high-productivity */
  div.productivity-battle-suggestion.very-high-productivity.position-center,
  div.productivity-battle-suggestion.very-high-productivity.position-top-right,
  div.productivity-battle-suggestion.very-high-productivity.position-top-left,
  div.productivity-battle-suggestion.very-high-productivity.position-bottom-right,
  div.productivity-battle-suggestion.very-high-productivity.position-bottom-left {
    position: fixed !important;
    inset: 0 !important;
    margin: auto !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    transform: none !important;
    height: fit-content !important;
  }
  
  /* Make text styling specific to each size class */
  .productivity-battle-suggestion.size-small .suggestion-text {
    font-size: 12px !important;
    line-height: 1.3 !important;
    padding: 0 !important;
  }
  
  .productivity-battle-suggestion.size-medium .suggestion-text {
    font-size: 14px !important;
    line-height: 1.4 !important;
    padding: 0 !important;
  }
  
  .productivity-battle-suggestion.size-large .suggestion-text {
    font-size: 16px !important;
    line-height: 1.5 !important;
    font-weight: 500 !important;
    padding: 0 !important;
  }
  
  /* Fix position classes to work with size classes */
  .productivity-battle-suggestion.position-center {
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
  }
  
  .productivity-battle-suggestion.position-top-right {
    top: 20px !important;
    right: 20px !important;
    left: auto !important;
    bottom: auto !important;
    transform: none !important;
  }
  
  .productivity-battle-suggestion.position-top-left {
    top: 20px !important;
    left: 20px !important;
    right: auto !important;
    bottom: auto !important;
    transform: none !important;
  }
  
  .productivity-battle-suggestion.position-bottom-right {
    bottom: 20px !important;
    right: 20px !important;
    top: auto !important;
    left: auto !important;
    transform: none !important;
  }
  
  .productivity-battle-suggestion.position-bottom-left {
    bottom: 20px !important;
    left: 20px !important;
    right: auto !important;
    top: auto !important;
    transform: none !important;
  }
  
  /* Media queries for responsive design */
  @media (max-width: 768px) {
    .productivity-battle-suggestion {
      max-width: 85% !important;
      margin: 10px !important;
    }
    
    .size-large {
      max-width: 350px !important;
    }
  }
  
  @media (max-width: 480px) {
    .productivity-battle-suggestion {
      max-width: 90% !important;
      margin: 10px !important;
      font-size: 13px !important;
    }
    
    .size-small {
      max-width: 200px !important;
    }
    
    .size-medium {
      max-width: 250px !important;
    }
    
    .size-large {
      max-width: 300px !important;
    }
  }